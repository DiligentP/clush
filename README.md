## Clush Task Manager
![image](https://obsidian-images-diligentp.s3.ap-northeast-2.amazonaws.com/f3c4d56f137fd2c024e5b40dedb6659c.png)
**Clush Task Manager**는 할일 관리와 일정 관리를 통합한 생산성 관리 도구입니다.

**주요 기능**
- ✅**스마트 할일 관리**: 제목/설명 작성, 완료 상태 관리, 필터링 기능
- ✅**통합 캘린더**: 월별 일정 조회, 드래그 앤 드롭으로 일정 이동
- ✅**일정 공유**: 공유 가능한 링크 생성을 통한 팀 일정 전달


**기술 스택**

| **구분**          | **기술**                                                                                            |
|--------------------|----------------------------------------------------------------------------------------------------|
| **백엔드**        | - Spring Boot 3.3.8 <br> - Java 17 <br> - MapStruct (DTO 변환) <br> - Lombok (보일러플레이트 감소)   |
| **데이터베이스**   | - MySQL 8.0 (개발)<br> - H2 (테스트)                                                               |
| **프론트엔드**     | - React 18 <br> - TypeScript <br> - Vite <br> - Moment.js (날짜 관리) <br> - Ant Design v4 (UI)    |
| **개발 환경**     | - Docker Compose                                                                                   |


## 주요 접속 정보 (실행 방법 가이드)
### 옵션 1: 로컬 개발 환경 실행 (Docker-Compose 사용)
1. **프로젝트 클론**
```bash
git clone https://github.com/DiligentP/clush-assignment.git
cd clush-assignment
```
2. **Docker Compose 실행**
```bash
docker-compose up --build  또는  docker compose up --build
```

| 서비스    | URL                          | 비고                          |
|-----------|------------------------------|-------------------------------|
| 프론트엔드 | http://localhost:3000       | Ant Design 기반 UI           |
| 백엔드    | http://localhost:8080       | Swagger 문서 리다이렉트            |
| MySQL     | jdbc:mysql://localhost:3306 | 사용자: clush, 비밀번호: clush |

### 옵션 2: 배포 서버 바로 사용
| 서비스    | URL                                | 주요 기능                     |
|-----------|------------------------------------|-----------------------------|
| 프론트엔드 | https://clush.diligentp.com       | 할일 관리 + 캘린더 조회      |
| 백엔드 API | https://clush-be.diligentp.com    | Swagger 문서 리다이렉트 |

## API 명세서
![image](https://obsidian-images-diligentp.s3.ap-northeast-2.amazonaws.com/281009a38e03c716ac5e03c8cda2aba6.png)
https://clush-be.diligentp.com

## 테스트 케이스
- Mockito를 이용한 의존성 모킹
- Given-When-Then 패턴 적용

**TodoService 테스트**
**TodoService 테스트**
| 테스트명 | 메서드명 | 설명 |
|---------|----------------|------|
| 할일 생성 성공 테스트 | `createTodo_Success` | 할일 생성 시 정상 응답 반환 및 저장 로직 검증 |
| 존재하지 않는 할일 수정 시 예외 발생 | `updateTodo_InvalidId` | 유효하지 않은 ID로 수정 시도 시 IllegalArgumentException 발생 확인 |
| 할일 완료 상태 업데이트 - 성공 | `updateTodoStatus_Success` | 완료 상태 변경 시 정상 동작 및 저장 프로세스 검증 |
| 할일 완료 상태 업데이트 - 존재하지 않는 ID 예외 | `updateTodoStatus_NotFound` | 존재하지 않는 ID로 상태 변경 시도 시 예외 처리 확인 |

**CalendarService 테스트**
| 테스트명 | 메서드명 | 설명 |
|---------|----------------|------|
| 새 일정 생성 - 정상 케이스 | `createEvent_Success` | 일정 생성 시 DB 저장 로직 및 응답 매핑 검증 |
| 월별 일정 조회 - 해당 월에 일정이 없는 경우 | `getEventsByMonth_NoEvents` | 데이터가 없는 월 조회 시 빈 리스트 반환 확인 |
| 월별 일정 조회 - 해당 월에 일정이 있는 경우 | `getEventsByMonth_WithEvents` | 월별 필터링 및 DTO 변환 프로세스 검증 |
| 일정 삭제 - 관련 공유 정보 함께 삭제 | `deleteEvent_WithRelatedShares` | 일정 삭제 시 연관 공유 정보 선삭제 검증 |
| 일정 수정 - 정상 케이스 | `updateEvent_Success` | 기존 일정 필드 업데이트 및 저장 로직 검증 |
| 일정 수정 - 존재하지 않는 ID | `updateEvent_InvalidId` | 유효하지 않은 ID로 수정 시도 시 예외 발생 확인 |
| 공유 코드 생성 - 생성일 자동 입력 테스트 | `createShareCode_CreatedAtAutoGenerated` | 공유 코드 생성 시 생성일 자동 주입 기능 검증 |

## 데이터베이스 관리 가이드
### 1. 초기 스키마 설정
- `db/init/01-schema.sql`에 테이블 정의
- Docker Compose 기동 시 자동 실행
### 2. 초기 데이터 관리
- 개발용 초기 데이터는 `02-initial-data.sql`에 저장
- 백업 스크립트 `backup.sh` 실행으로 데이터 갱신 
### 3. 마이그레이션 정책
- **Docker Compose 초기화 시스템** 활용
  - `db/init/` 디렉토리의 SQL 파일을 자동 실행
  - 파일 이름 순서대로 실행 (01 -> 02 -> ...)
  - 개발/테스트 환경: 컨테이너 재생성 시 항상 최신 스키마 적용


## 디렉토리 구조
```bash
clush/
├── backend/ # Spring Boot 애플리케이션
├── frontend/ # React 애플리케이션
├── db/ # 데이터베이스 벡업 및 초기화 스크립트
└── docker-compose.yaml
```
